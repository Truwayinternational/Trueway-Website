"use strict";(self.webpackChunktrueway=self.webpackChunktrueway||[]).push([[2051],{52051:(e,t,l)=>{l.r(t),l.d(t,{default:()=>x});var s=l(72791),n=l(20737),a=l(11087),i=l(92758),d=l(77329),c=l(21830),o=l.n(c),r=l(80184);const x=function(){const[e,t]=(0,s.useState)([]),[l,c]=(0,s.useState)(!1),{admin:x,setAdmin:m}=(0,s.useContext)(d.u),u=e=>{o().fire({title:"Are you sure..?",text:"delete item",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete it",cancelButtonText:"Cancel"}).then((async t=>{if(t.isConfirmed)try{await(async e=>{await n.M.delete("/admin/blogs/"+e)})(e),o().fire("Deleted","Your file has been deleted","success"),c(!l)}catch(s){o().fire("Error","Failed to delete the file","error")}else t.dismiss===o().DismissReason.cancel&&o().fire("Cancelled","Your file is safe \u263a\ufe0f","error")}))};return(0,s.useEffect)((()=>{(async()=>{const{data:e}=await n.M.get("/admin/blogs");t(e)})()}),[l]),(0,r.jsxs)("div",{className:"container mx-auto mt-8",children:[(0,r.jsx)("h2",{className:"text-2xl md:text-4xl font-bold mb-4 text-center my-5",children:"Blog Posts"}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"inline-flex my-5 mx-5 md:ml-20",children:(0,r.jsx)(a.OL,{className:"bg-green-600 text-white px-4 py-2 rounded-lg ",to:"/admin/add-blog",children:"Add Blogs"})}),(0,r.jsx)("div",{className:" my-5 inline-flex mx-5 md:mr-20",children:(0,r.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg  ",onClick:function(){m(null===!x),localStorage.removeItem("token")},children:"Log out"})})]}),(0,r.jsx)("ul",{children:e.length>0&&e.map((e=>{var t,l;return(0,r.jsxs)("li",{className:"lg:flex mb-4 p-4 border rounded",children:[(0,r.jsx)("div",{className:"block lg:w-1/3 w-full mx-3 p-3",children:(0,r.jsx)("img",{className:"w-[300px] h-[300px] m-3 p-3",src:i.b+e.image,alt:"BlogPoster"})}),(0,r.jsxs)("div",{className:"lg:w-2/3 w-full flex flex-col px-3",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-4xl font-semibold mb-2 px-3 font-HeadingFont",children:e.title}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4 px-3 text-lg font-poppins",children:["Published Date: ",null===(t=e.createdAt)||void 0===t?void 0:t.slice(0,10)]}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4 px-3 text-lg font-poppins",children:["updated Date: ",null===(l=e.updatedAt)||void 0===l?void 0:l.slice(0,10)]}),(0,r.jsx)("div",{className:"h-60 overflow-y-scroll",dangerouslySetInnerHTML:{__html:e.content}}),(0,r.jsxs)("div",{className:"flex mt-4",children:[(0,r.jsx)(a.OL,{className:"bg-blue-500 text-white px-4 py-2 rounded-lg mx-2",to:"/admin/blogs/"+e._id,children:" Edit "}),(0,r.jsx)("button",{className:"bg-red-500 text-white px-4 py-2 rounded-lg mx-2",onClick:()=>u(e._id),children:"Delete"})]})]})]},e.Id)}))})]})}},92758:(e,t,l)=>{l.d(t,{b:()=>s});const s="https://www.truewayinternational.com/uploads/"}}]);
//# sourceMappingURL=2051.63f70429.chunk.js.map